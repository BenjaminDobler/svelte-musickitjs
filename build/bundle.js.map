{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-spa-router/Router.svelte","../../node_modules/regexparam/dist/index.mjs","../../src/store/musicstore.js","../../src/service/musikkit.js","../../src/components/CoverImage.svelte","../../src/credentials.js","../../src/components/slider/Slider.svelte","../../src/components/player/PlayerIcon.svelte","../../src/components/player/Player.svelte","../../src/components/Header.svelte","../../src/components/NavIcon.svelte","../../src/components/Navigation.svelte","../../src/components/AlbumItem.svelte","../../src/routes/Albums.svelte","../../src/components/Track.svelte","../../src/components/Tracks.svelte","../../src/routes/AlbumDetail.svelte","../../src/routes/PlaylistDetail.svelte","../../src/routes/Artists.svelte","../../src/routes/Radio.svelte","../../src/routes/RadioDetail.svelte","../../src/components/vituallist/VirtualList.svelte","../../src/routes/TrackRoute.svelte","../../src/routes/routes.js","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.32.1' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","<script context=\"module\">\nimport {readable, writable, derived} from 'svelte/store'\nimport {tick} from 'svelte'\nimport {wrap as _wrap} from './wrap'\n\n/**\n * Wraps a component to add route pre-conditions.\n * @deprecated Use `wrap` from `svelte-spa-router/wrap` instead. This function will be removed in a later version.\n * \n * @param {SvelteComponent} component - Svelte component for the route\n * @param {object} [userData] - Optional object that will be passed to each `conditionsFailed` event\n * @param {...function(RouteDetail): boolean} conditions - Route pre-conditions to add, which will be executed in order\n * @returns {WrappedComponent} Wrapped component\n */\nexport function wrap(component, userData, ...conditions) {\n    // Use the new wrap method and show a deprecation warning\n    // eslint-disable-next-line no-console\n    console.warn('Method `wrap` from `svelte-spa-router` is deprecated and will be removed in a future version. Please use `svelte-spa-router/wrap` instead. See http://bit.ly/svelte-spa-router-upgrading')\n    return _wrap({\n        component,\n        userData,\n        conditions\n    })\n}\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    null,\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        set(getLocation())\n\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Store that returns the currently-matched params.\n * Despite this being writable, consumers should not change the value of the store.\n * It is exported as a readable store only (in the typings file)\n */\nexport const params = writable(undefined)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    // Note: this will include scroll state in history even when restoreScrollState is false\n    history.replaceState({...history.state, __svelte_spa_router_scrollX: window.scrollX, __svelte_spa_router_scrollY: window.scrollY}, undefined, undefined)      \n    window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n * \n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function pop() {\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    window.history.back()\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    const dest = (location.charAt(0) == '#' ? '' : '#') + location\n    try {\n        const newState = {\n            ...history.state\n        }\n        delete newState['__svelte_spa_router_scrollX']\n        delete newState['__svelte_spa_router_scrollY']\n        window.history.replaceState(newState, undefined, dest)\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Caught exception while replacing the current page. If you\\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.')\n    }\n\n    // The method above doesn't trigger the hashchange event, so let's do that manually\n    window.dispatchEvent(new Event('hashchange'))\n}\n\n/**\n * Dictionary with options for the link action.\n * @typedef {Object} LinkActionOpts\n * @property {string} href - A string to use in place of the link's href attribute. Using this allows for updating link's targets reactively.\n * @property {boolean} disabled - If true, link is disabled\n */\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n * @param {string|LinkActionOpts} opts - Options object. For legacy reasons, we support a string too which will be the value for opts.href\n */\nexport function link(node, opts) {\n    opts = linkOpts(opts)\n\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    updateLink(node, opts)\n\n    return {\n        update(updated) {\n            updated = linkOpts(updated)\n            updateLink(node, updated)\n        }\n    }\n}\n\n// Internal function used by the link function\nfunction updateLink(node, opts) {\n    let href = opts.href || node.getAttribute('href')\n\n    // Destination must start with '/' or '#/'\n    if (href && href.charAt(0) == '/') {\n        // Add # to the href attribute\n        href = '#' + href\n    }\n    else if (!href || href.length < 2 || href.slice(0, 2) != '#/') {\n        throw Error('Invalid value for \"href\" attribute: ' + href)\n    }\n\n    node.setAttribute('href', href)\n    node.addEventListener('click', (event) => {\n        // Prevent default anchor onclick behaviour\n        event.preventDefault()\n        if (!opts.disabled) {\n            scrollstateHistoryHandler(event.currentTarget.getAttribute('href'))\n        }\n    })\n}\n\n// Internal function that ensures the argument of the link action is always an object\nfunction linkOpts(val) {\n    if (val && typeof val == 'string') {\n        return {\n            href: val\n        }\n    }\n    else {\n        return val || {}\n    }\n}\n\n/**\n * The handler attached to an anchor tag responsible for updating the\n * current history state with the current scroll state\n *\n * @param {string} href - Destination\n */\nfunction scrollstateHistoryHandler(href) {\n    // Setting the url (3rd arg) to href will break clicking for reasons, so don't try to do that\n    history.replaceState({...history.state, __svelte_spa_router_scrollX: window.scrollX, __svelte_spa_router_scrollY: window.scrollY}, undefined, undefined)\n    // This will force an update as desired, but this time our scroll state will be attached\n    window.location.hash = href\n}\n</script>\n\n{#if componentParams}\n    <svelte:component\n    this=\"{component}\"\n    params=\"{componentParams}\"\n    on:routeEvent\n    {...props}\n    />\n{:else}\n    <svelte:component\n    this=\"{component}\"\n    on:routeEvent\n    {...props}\n    />\n{/if}\n\n<script>\nimport {onDestroy, createEventDispatcher, afterUpdate} from 'svelte'\nimport {parse} from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * If set to true, the router will restore scroll positions on back navigation\n * and scroll to top on forward navigation.\n */\nexport let restoreScrollState = false\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent|WrappedComponent} component - Svelte component for the route, optionally wrapped\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument - strings must start with / or *')\n        }\n\n        const {pattern, keys} = parse(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.component\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n            this.props = component.props || {}\n        }\n        else {\n            // Convert the component to a function that returns a Promise, to normalize it\n            this.component = () => Promise.resolve(component)\n            this.conditions = []\n            this.props = {}\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, check if it matches the start of the path.\n        // If not, bail early, else remove it before we run the matching.\n        if (prefix) {\n            if (typeof prefix == 'string') {\n                if (path.startsWith(prefix)) {\n                    path = path.substr(prefix.length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n            else if (prefix instanceof RegExp) {\n                const match = path.match(prefix)\n                if (match && match[0]) {\n                    path = path.substr(match[0].length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            // In the match parameters, URL-decode all values\n            try {\n                out[this._keys[i]] = decodeURIComponent(matches[i + 1] || '') || null\n            }\n            catch (e) {\n                out[this._keys[i]] = null\n            }\n            i++\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoading`, `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {string|RegExp} route - Route matched as defined in the route definition (could be a string or a reguar expression object)\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {object} [userData] - Custom data passed by the user\n     * @property {SvelteComponent} [component] - Svelte component (only in `routeLoaded` events)\n     * @property {string} [name] - Name of the Svelte component (only in `routeLoaded` events)\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {boolean} Returns true if all the conditions succeeded\n     */\n    async checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!(await this.conditions[i](detail))) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\nlet props = {}\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nasync function dispatchNextTick(name, detail) {\n    // Execute this code when the current call stack is complete\n    await tick()\n    dispatch(name, detail)\n}\n\n// If this is set, then that means we have popped into this var the state of our last scroll position\nlet previousScrollState = null\n\n// Update history.scrollRestoration depending on restoreScrollState\n$: history.scrollRestoration = restoreScrollState ? 'manual' : 'auto'\nlet popStateChanged = null\nif (restoreScrollState) {\n    popStateChanged = (event) => {\n        // If this event was from our history.replaceState, event.state will contain\n        // our scroll history. Otherwise, event.state will be null (like on forward\n        // navigation)\n        if (event.state && event.state.__svelte_spa_router_scrollY) {\n            previousScrollState = event.state\n        }\n        else {\n            previousScrollState = null\n        }\n    }\n    // This is removed in the destroy() invocation below\n    window.addEventListener('popstate', popStateChanged)\n\n    afterUpdate(() => {\n        // If this exists, then this is a back navigation: restore the scroll position\n        if (previousScrollState) {\n            window.scrollTo(previousScrollState.__svelte_spa_router_scrollX, previousScrollState.__svelte_spa_router_scrollY)\n        }\n        else {\n            // Otherwise this is a forward navigation: scroll to top\n            window.scrollTo(0, 0)\n        }\n    })\n}\n\n// Always have the latest value of loc\nlet lastLoc = null\n\n// Current object of the component loaded\nlet componentObj = null\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n// Do not use the $: syntax because it gets triggered by too many things\nconst unsubscribeLoc = loc.subscribe(async (newLoc) => {\n    lastLoc = newLoc\n\n    // Find a route matching the location\n    let i = 0\n    while (i < routesList.length) {\n        const match = routesList[i].match(newLoc.location)\n        if (!match) {\n            i++\n            continue\n        }\n\n        const detail = {\n            route: routesList[i].path,\n            location: newLoc.location,\n            querystring: newLoc.querystring,\n            userData: routesList[i].userData,\n            params: (match && typeof match == 'object' && Object.keys(match).length) ? match : null\n        }\n\n        // Check if the route can be loaded - if all conditions succeed\n        if (!(await routesList[i].checkConditions(detail))) {\n            // Don't display anything\n            component = null\n            componentObj = null\n            // Trigger an event to notify the user, then exit\n            dispatchNextTick('conditionsFailed', detail)\n            return\n        }\n\n        // Trigger an event to alert that we're loading the route\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoading', Object.assign({}, detail))\n\n        // If there's a component to show while we're loading the route, display it\n        const obj = routesList[i].component\n        // Do not replace the component if we're loading the same one as before, to avoid the route being unmounted and re-mounted\n        if (componentObj != obj) {\n            if (obj.loading) {\n                component = obj.loading\n                componentObj = obj\n                componentParams = obj.loadingParams\n                props = {}\n\n                // Trigger the routeLoaded event for the loading component\n                // Create a copy of detail so we don't modify the object for the dynamic route (and the dynamic route doesn't modify our object too)\n                dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n                    component: component,\n                    name: component.name,\n                    params: componentParams\n                }))\n            }\n            else {\n                component = null\n                componentObj = null\n            }\n\n            // Invoke the Promise\n            const loaded = await obj()\n\n            // Now that we're here, after the promise resolved, check if we still want this component, as the user might have navigated to another page in the meanwhile\n            if (newLoc != lastLoc) {\n                // Don't update the component, just exit\n                return\n            }\n\n            // If there is a \"default\" property, which is used by async routes, then pick that\n            component = (loaded && loaded.default) || loaded\n            componentObj = obj\n        }\n\n        // Set componentParams only if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n        // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n        if (match && typeof match == 'object' && Object.keys(match).length) {\n            componentParams = match\n        }\n        else {\n            componentParams = null\n        }\n\n        // Set static props, if any\n        props = routesList[i].props\n\n        // Dispatch the routeLoaded event then exit\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n            component: component,\n            name: component.name,\n            params: componentParams\n        })).then(() => {\n            params.set(componentParams)\n        })\n        return\n    }\n\n    // If we're still here, there was no match, so show the empty component\n    component = null\n    componentObj = null\n    params.set(undefined)\n})\n\nonDestroy(() => {\n    unsubscribeLoc()\n    popStateChanged && window.removeEventListener('popstate', popStateChanged)\n})\n</script>\n","export function parse(str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n\nvar RGX = /*#__PURE__*/ /(\\/|^)([:*][^/]*?)(\\?)?(?=[/.]|$)/g;\n\n// error if key missing?\nexport function inject(route, values) {\n\treturn route.replace(RGX, (x, lead, key, optional) => {\n\t\tx = values[key=='*' ? 'wild' : key.substring(1)];\n\t\treturn x ? '/'+x : (optional || key=='*') ? '' : '/' + key;\n\t});\n}\n","\nimport { writable } from 'svelte/store';\n\nexport const store = writable({\n\talbums: [],\n\tselectedAlbum: null,\n    selectedView: 'albums'\n})\n\nexport const playerStore = writable({\n\tcurrentPlaybacktime: 0,\n\tcurrentPlaybackduration: 0,\n\tcurrentTrack: null,\n\tplayingTrack: null,\n\tstate: 0\n});\n\nexport const playlistStore = writable({\n\tplaylists: [],\n\tselectedPlaylist: null\n});\n\nexport const artistsStore = writable({\n\tartists: [],\n\tselectedArtistAlbums: [],\n\tselectedArtist: null\n});\n\nexport const radioStore = writable({\n\tstations: [],\n\tselectedStation: null\n});\n\nexport const tracksStore = writable([]);","import { store, playerStore, playlistStore, artistsStore, radioStore, tracksStore } from \"../store/musicstore\";\nimport { developerToken } from \"../credentials\";\nimport { get } from \"svelte/store\";\nimport { pop, push } from \"svelte-spa-router\";\n\nexport let albums = [];\nlet musicKit;\nlet setup;\nlet initialized = false;\n\n\n\n/*\ndictionary MusicKit.Events {\n    string authorizationStatusDidChange;\n    string authorizationStatusWillChange;\n    string eligibleForSubscribeView;\n    string loaded;\n    string mediaCanPlay;\n    string mediaItemDidChange;\n    string mediaItemWillChange;\n    string mediaPlaybackError;\n    string metadataDidChange;\n    string playbackBitrateDidChange;\n    string playbackDurationDidChange;\n    string playbackProgressDidChange;\n    string playbackStateDidChange;\n    string playbackStateWillChange;\n    string playbackTargetAvailableDidChange;\n    string playbackTimeDidChange;\n    string playbackVolumeDidChange;\n    string primaryPlayerDidChange;\n    string queueItemsDidChange;\n    string queuePositionDidChange;\n    string storefrontCountryCodeDidChange;\n    string storefrontIdentifierDidChange;\n    string userTokenDidChange;\n};\n*/\n\n\n\nfunction getApiHeadersWithUserToken() {\n    const musicKitInstance = MusicKit.getInstance();\n\n    return {\n        'Music-User-Token': musicKitInstance.musicUserToken,\n        Authorization: `Bearer ${musicKitInstance.developerToken}`,\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n    };\n}\n\nasync function getURL(url) {\n    // Default options are marked with *\n    const response = await fetch('https://api.music.apple.com/v1' + url, {\n        method: 'GET', // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors', // no-cors, *cors, same-origin\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n        headers: getApiHeadersWithUserToken()\n    });\n    return response.json(); // parses JSON response into native JavaScript objects\n}\n\n\nexport async function toggleLogin() {\n    console.log(musicKit);\n    if (musicKit.isAuthorized) {\n        musicKit.unauthorize();\n    } else {\n        musicKit.authorize();\n    }\n}\n\nexport async function init() {\n    setup = new Promise((resolve) => {\n        document.addEventListener('musickitloaded', () => {\n            const musicKitInstance = window.MusicKit.configure({\n                developerToken,\n                app: {\n                    name: 'MusicKit Web App',\n                    build: '1.0.0',\n                },\n            });\n            resolve(musicKitInstance);\n        });\n    });\n\n    musicKit = await setup;\n    initialized = true;\n\n    musicKit.addEventListener('playbackProgressDidChange', (e) => {\n        console.log('playbackProgressDidChange ', e.progress);\n    });\n\n    musicKit.addEventListener('playbackDurationDidChange', (e) => {\n        console.log('playbackDurationDidChange ', e);\n    });\n\n    musicKit.addEventListener('playbackTimeDidChange', (e) => {\n        playerStore.update(data => ({ ...data, currentPlaybackduration: e.currentPlaybackDuration, currentPlaybacktime: e.currentPlaybackTime }));\n\n    });\n\n    musicKit.addEventListener('queueItemsDidChange', (e) => {\n        console.log('queueItemsDidChange ', e);\n        playerStore.update(data => ({ ...data, playingTrack: e[0] }))\n    });\n\n    musicKit.addEventListener('playbackStateDidChange', (e) => {\n        console.log('playbackStateDidChange ', e);\n        playerStore.update(data => ({ ...data, state: e.state }));\n    });\n\n\n\n    try {\n        await musicKit.authorize();\n        console.log('Authorized', musicKit);\n    } catch (error) {\n        // Handle cases when authorization fails\n        console.log('error ', error);\n    }\n\n\n\n    console.log('before heay');\n    const heavy = await getURL(`/catalog/${MusicKit.getInstance().api.storefrontId}/charts?types=albums&chart=most-played`)\n    console.log(\"heavy\", heavy);\n    getRecentlyPlayed();\n\n}\n\nexport async function getRecentlyPlayed() {\n    const recentlyPlayed = await getURL(`/me/recent/played?limit=10`)\n    console.log(\"recentlyPlayed\", recentlyPlayed);\n}\n\n\nexport async function getRadioStations() {\n    await setup;\n    const stations = (await getURL(`/catalog/${MusicKit.getInstance().api.storefrontId}/stations?filter[featured]=apple-music-live-radio`)).data;\n    console.log('stations ', stations);\n    radioStore.update((data) => ({ ...data, stations }));\n}\n\nexport async function getRadioStation(id) {\n    await setup;\n    const station = (await getURL(`/catalog/${MusicKit.getInstance().api.storefrontId}/stations/${id}`));\n    console.log('station ', station);\n    radioStore.update((data) => ({ ...data, selectedStation: station }));\n}\n\nexport async function loadAlbums() {\n    console.log('load albums');\n    await setup;\n    albums = await musicKit.api.library.albums([]);\n    store.update(data => ({ ...data, albums }));\n}\n\nexport async function loadAlbum(id) {\n    await setup;\n    const album = await musicKit.api.library.album(id);\n    store.update(data => ({ ...data, selectedAlbum: album, selectedView: 'album' }));\n}\n\nexport function formatArtwork(artwork, width = 100, height = 100) {\n    return MusicKit.formatArtworkURL(artwork, width, height);\n}\n\nexport function formatMediaTime(ms) {\n    return initialized ? MusicKit.formatMediaTime(ms) : 0;\n}\n\nexport function addToPlaylist(track) {\n    musicKit\n        .setQueue({\n            song: track.id,\n        })\n        .then(() => {\n            musicKit.play();\n        });\n}\n\nexport function pause() {\n    console.log('pause');\n    musicKit.pause();\n}\n\nexport function togglePlay() {\n    // TODO: get is supposed to be unperformant...\n    if (get(playerStore).state === 3) {\n        musicKit.player.play();\n    } else {\n        musicKit.player.pause();\n    }\n}\n\nexport function seekToTime(seconds) {\n    musicKit.player.seekToTime(seconds);\n}\n\n\nexport async function loadArtists() {\n    console.log('load artists');\n    await setup;\n    const artists = await musicKit.api.library.artists(null, { limit: 100 });\n    console.log('artists ', artists);\n    artistsStore.update(data => ({ artists }));\n}\n\nexport async function loadLibraryArtistDetail(artistId) {\n    await setup;\n\n    const artist = await musicKit.api.library.artist(artistId, { include: 'albums,playlists' });\n    const albumIds = artist.relationships.albums.data.map((a) => a.id);\n    const albums = await musicKit.api.library.albums(albumIds);\n\n    console.log(artist, albums);\n\n    artistsStore.update((data) => ({ ...data, selectedArtistAlbums: albums }));\n\n\n}\n\nexport async function loadLibraryTracks(offset=0, limit=50) {\n    await setup;\n    const tracks = (await getURL(`/me/library/songs?offset=${offset}&limit=${limit}`));\n    tracksStore.update(data => tracks.data);\n    return tracks;\n}\n\n\nexport async function loadPlaylists() {\n    await setup;\n    const playlists = await musicKit.api.library.playlists(null);\n    playlistStore.update(data => ({ playlists }));\n}\n\nexport async function loadPlaylist(id) {\n    await setup;\n    const playlist = await musicKit.api.library.playlist(id);\n    playlistStore.update(data => ({ ...data, selectedPlaylist: playlist }));\n\n}\n\nexport async function addTrackToPlaylist(track, playlist) {\n    console.log('add track ', track, playlist);\n    const data = {\n        data: [{ id: track.id }]\n    }\n    //https://api.music.apple.com/v1/me/library/playlists/{id}/tracks\n    const response = await fetch(`https://api.music.apple.com/v1/me/library/playlists/${playlist.id}/tracks`, {\n        method: 'POST', // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors', // no-cors, *cors, same-origin\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n        headers: getApiHeadersWithUserToken(),\n        body: JSON.stringify(data)\n    });\n    return response.json(); // parses JSON response into native JavaScript objects\n}\n\ninit();\n\n","<script>\n    import { formatArtwork } from \"../service/musikkit\";\n\n    export let width = \"60px\";\n    export let height = \"60px\";\n    export let aspectRatio = null;\n    export let artwork;\n    let paddingTop = 0;\n\n    function artworkFormatted(artwork) {\n        return artwork ? formatArtwork(artwork) : \"\";\n    }\n\n    function getHeight() {\n        if (aspectRatio) {\n            return \"auto\";\n        }\n        return height;\n    }\n\n    function getPaddingTop() {\n        if (aspectRatio) {\n            return \"100%\";\n        }\n        return 0;\n    }\n</script>\n\n<div\n    class=\"album-thumb\"\n    style=\"background-image: url('{artworkFormatted(\n        artwork\n    )}');width: {width};height: {getHeight(\n        height\n    )};padding-top: {getPaddingTop()}\"\n/>\n\n<style>\n    .album-thumb {\n        background-color: #000;\n        background-size: cover;\n        margin-right: 10px;\n        border-radius: 6px;\n    }\n</style>\n","\n\nexport const developerToken = 'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhZOE5WTDJQOVAifQ.eyJpYXQiOjE2MjAzMzMxNTgsImV4cCI6MTYzNTg4NTE1OCwiaXNzIjoiUUpaTUczVzVXTCJ9.auMPwGjA-itDCfoRGuvemILbo_D4Rocpud_gRs-N2gA7i1cBTUFJyZWf5gypuJieVIQCPqftwXj4SCkKVqwykw';\n","<script>\n    import { createEventDispatcher, onMount } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    export let minValue = 0;\n    export let maxValue = 100;\n    export let value = 0;\n    let thumbElement;\n    let sliderElement;\n    let thumbRect;\n    let sliderRect;\n    let isPointerDown = false;\n    let thumbOffset = 0;\n    let maxX = 0;\n    let minX = 0;\n\n    onMount(() => {\n        thumbRect = thumbElement.getBoundingClientRect();\n        sliderRect = sliderElement.getBoundingClientRect();\n    });\n\n    function pointerdown(event) {\n        thumbRect = thumbElement.getBoundingClientRect();\n        sliderRect = sliderElement.getBoundingClientRect();\n        thumbOffset = event.clientX - thumbRect.left;\n        maxX = sliderRect.width - thumbRect.width;\n        isPointerDown = true;\n    }\n\n    function pointermove(event) {\n        if (isPointerDown) {\n            let x = event.clientX - sliderRect.left - thumbOffset;\n            if (x < minX) {\n                x = minX;\n            }\n\n            if (x > maxX) {\n                x = maxX;\n            }\n            const percentage = x / maxX;\n            value = minValue + (maxValue - minValue) * percentage;\n            dispatch('scrub', value);\n            \n        }\n    }\n\n    function pointerup(event) {\n        isPointerDown = false;\n    }\n\n    $: thumbPosition = (value / maxValue) * sliderRect?.width;\n</script>\n\n<svelte:window on:pointermove={pointermove} on:pointerup={pointerup} />\n\n<div class=\"slider\" bind:this={sliderElement}>\n    <div\n        class=\"thumb\"\n        style=\"transform: translateX({thumbPosition}px);\"\n        bind:this={thumbElement}\n        on:pointerdown={pointerdown}\n    />\n</div>\n\n<style>\n    .thumb {\n        width: 20px;\n        height: 5px;\n        background: #B8B8B8;\n        position: absolute;\n        left: 0;\n        top: 0;\n    }\n\n    .slider {\n        width: 100%;\n        height: 5px;\n        position: relative;\n        background: #5f5f5f\n    }\n</style>\n","<script>\n    export let type = \"play\";\n    export let fill = '#EEEEEE';\n</script>\n\n<!-- Next -->\n{#if type === \"next\"}\n    <svg\n        on:click\n        width=\"34px\"\n        height=\"34px\"\n        viewBox=\"0 0 34 34\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        xml:space=\"preserve\"\n        style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421\"\n        ><path\n            d=\"M8.307,23c-0.536,0 -1.031,-0.38 -1.031,-1.124l0,-9.752c0,-0.744 0.495,-1.124 1.031,-1.124c0.293,0 0.569,0.097 0.888,0.283l8.26,4.617c0.436,0.243 0.729,0.494 0.805,0.874l0,-4.65c0,-0.744 0.502,-1.124 1.03,-1.124c0.302,0 0.578,0.097 0.896,0.283l8.261,4.617c0.511,0.283 0.829,0.574 0.829,1.1c0,0.518 -0.318,0.817 -0.829,1.1l-8.261,4.617c-0.318,0.186 -0.594,0.283 -0.896,0.283c-0.528,0 -1.03,-0.38 -1.03,-1.124l0,-4.658c-0.076,0.388 -0.369,0.639 -0.805,0.882l-8.26,4.617c-0.319,0.186 -0.595,0.283 -0.888,0.283Z\"\n            style=\"fill-rule:nonzero\"\n            fill=\"{fill}\"\n        /></svg\n    >\n{/if}\n\n<!-- Previous -->\n{#if type === \"prev\"}\n    <svg\n        on:click\n        width=\"34px\"\n        height=\"34px\"\n        viewBox=\"0 0 34 34\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        xml:space=\"preserve\"\n        style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421\"\n        ><path\n            d=\"M26.97,23c0.536,0 1.03,-0.38 1.03,-1.124l0,-9.752c0,-0.744 -0.494,-1.124 -1.03,-1.124c-0.294,0 -0.57,0.097 -0.889,0.283l-8.26,4.617c-0.436,0.243 -0.729,0.494 -0.804,0.874l0,-4.65c0,-0.744 -0.503,-1.124 -1.031,-1.124c-0.301,0 -0.578,0.097 -0.896,0.283l-8.261,4.617c-0.511,0.283 -0.829,0.574 -0.829,1.1c0,0.518 0.318,0.817 0.829,1.1l8.261,4.617c0.318,0.186 0.595,0.283 0.896,0.283c0.528,0 1.031,-0.38 1.031,-1.124l0,-4.658c0.075,0.388 0.368,0.639 0.804,0.882l8.26,4.617c0.319,0.186 0.595,0.283 0.889,0.283Z\"\n            style=\"fill-rule:nonzero\"\n            fill=\"{fill}\"\n        /></svg\n    >\n{/if}\n\n<!-- Play-->\n{#if type === \"play\"}\n    <svg\n        on:click\n        width=\"34px\"\n        height=\"34px\"\n        viewBox=\"0 0 34 34\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        xml:space=\"preserve\"\n        style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421\"\n        ><path\n            d=\"M28.228,18.327l-16.023,8.983c-0.99,0.555 -2.205,-0.17 -2.205,-1.318l0,-17.984c0,-1.146 1.215,-1.873 2.205,-1.317l16.023,8.982c1.029,0.577 1.029,2.077 0,2.654Z\"\n            style=\"fill-rule:nonzero\"\n            fill=\"{fill}\"\n        /></svg\n    >\n{/if}\n\n<!-- Pause -->\n{#if type === \"pause\"}\n    <svg\n        on:click\n        width=\"34px\"\n        height=\"34px\"\n        viewBox=\"0 0 34 34\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        xml:space=\"preserve\"\n        style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421\"\n        ><path\n            d=\"M20.3,6l2.9,0c0.994,0 1.8,0.806 1.8,1.8l0,18.4c0,0.994 -0.806,1.8 -1.8,1.8l-2.9,0c-0.994,0 -1.8,-0.806 -1.8,-1.8l0,-18.4c0,-0.994 0.806,-1.8 1.8,-1.8Zm-9.5,0l2.9,0c0.994,0 1.8,0.806 1.8,1.8l0,18.4c0,0.994 -0.806,1.8 -1.8,1.8l-2.9,0c-0.994,0 -1.8,-0.806 -1.8,-1.8l0,-18.4c0,-0.994 0.806,-1.8 1.8,-1.8Z\"\n            style=\"fill-rule:nonzero\"\n            fill=\"{fill}\"\n        /></svg\n    >\n{/if}\n","<script>\n    import {\n        formatMediaTime,\n        pause,\n        seekToTime,\n        togglePlay,\n    } from \"../../service/musikkit\";\n\n    import { playerStore } from \"../../store/musicstore\";\n    import CoverImage from \"../CoverImage.svelte\";\n\n    import Slider from \"../slider/Slider.svelte\";\n    import PlayerIcon from \"./PlayerIcon.svelte\";\n\n    let value;\n\n    function pausePlayer() {\n        pause();\n    }\n\n    function scrub(event) {\n        seekToTime(event.detail);\n    }\n\n    function getPlayIconType(state) {\n        if (state === 2) {\n            return \"pause\";\n        }\n        return \"play\";\n    }\n</script>\n\n<div class=\"container\">\n    <div class=\"controls\">\n        <PlayerIcon on:click={togglePlay} type=\"prev\" />\n        <PlayerIcon\n            on:click={togglePlay}\n            type={getPlayIconType($playerStore.state)}\n        />\n        <PlayerIcon on:click={togglePlay} type=\"next\" />\n    </div>\n\n    <div class=\"info-container\">\n        <CoverImage\n            height=\"44px\"\n            width=\"44px\"\n            artwork={$playerStore.playingTrack?.artwork}\n        />\n        <div\n            style=\"flex-grow: 1; display: flex; height: 100%; flex-direction: column;\"\n        >\n            <div style=\"flex-grow: 1;\">\n                <div class=\"song-name\">\n                    {$playerStore.playingTrack?.attributes.name}\n                </div>\n                <div class=\"artist-label\">\n                    {$playerStore.playingTrack?.attributes.artistName} -\n                    {$playerStore.playingTrack?.attributes.albumName}\n                </div>\n            </div>\n            <Slider\n                minValue={0}\n                maxValue={$playerStore.currentPlaybackduration}\n                bind:value={$playerStore.currentPlaybacktime}\n                on:scrub={scrub}\n            />\n        </div>\n    </div>\n</div>\n\n<style>\n    .controls {\n        margin-left: 50px;\n        margin-right: 50px;\n    }\n    .container {\n        flex-grow: 1;\n        display: flex;\n        color: #a19da4;\n        height: 55px;\n        overflow: hidden;\n        align-items: center;\n    }\n\n    .info-container {\n        height: 44px;\n        flex-grow: 1;\n        display: flex;\n        align-items: center;\n        background: #464246;\n        border-radius: 6px;\n    }\n\n    .song-name {\n        font-size: 13px;\n    }\n    .artist-label {\n        font-size: 13px;\n    }\n</style>\n","<script>\n    import { toggleLogin } from \"../service/musikkit\";\n\n    import { playerStore, store } from \"../store/musicstore\";\n    import Player from \"./player/Player.svelte\";\n</script>\n\n<div class=\"header\">\n    {#if $playerStore.playingTrack}\n        <Player />\n    {/if}\n\n    <div style=\"flex-grow: 1;\" />\n\n    <div style=\"flex-shring: 0; margin-right: 10px\" on:click={()=>toggleLogin()}>\n        <svg\n            width=\"28\"\n            height=\"28\"\n            viewBox=\"0 0 28 28\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"web-navigation__auth-avatar\"\n            ><path\n                fill=\"rgb(250, 88, 106)\"\n                d=\"M14.007 28C6.299 28 0 21.703 0 14S6.299 0 14.007 0C21.7 0 28 6.297 28 14s-6.299 14-13.993 14zm0-9.392c4.253 0 7.49 1.514 8.805 3.216 1.815-2.08 2.899-4.81 2.899-7.824 0-6.54-5.12-11.784-11.704-11.784C7.41 2.216 2.289 7.46 2.289 14c0 3.014 1.084 5.743 2.9 7.824 1.313-1.702 4.55-3.216 8.818-3.216zm-.014-2.297c-2.6-.027-4.646-2.19-4.646-5.095-.014-2.73 2.059-4.986 4.646-4.986 2.601 0 4.647 2.256 4.647 4.986 0 2.906-2.032 5.122-4.647 5.095z\"\n            /></svg\n        >\n    </div>\n</div>\n\n<style>\n    .header {\n        position: fixed;\n        top: 0;\n        left: 260px;\n        right: 0;\n        overflow: hidden;\n        height: 55px;\n        background-color: var(--playerBackground);\n        -webkit-backdrop-filter: saturate(50%) blur(20px);\n        backdrop-filter: saturate(50%) blur(20px);\n        z-index: 1000;\n        display: flex;\n        align-items: center;\n    }\n</style>\n","<script>\n    export let type = \"artist\";\n    export let fill = \"#fff\";\n</script>\n\n{#if type === \"playlist\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        ><path\n            d=\"M13.079 19.712c1.076 0 2.688-.79 2.688-2.922v-6.702c0-.388.073-.468.417-.542l3.347-.732a.48.48 0 00.403-.483V5.577c0-.388-.315-.637-.688-.564l-3.765.82c-.469.103-.725.359-.725.77l.015 8.144c.036.359-.132.593-.455.659l-1.164.242c-1.465.307-2.153 1.054-2.153 2.16 0 1.12.864 1.904 2.08 1.904zM12.046 8.675a.503.503 0 00.498-.498.497.497 0 00-.498-.49H5.498a.492.492 0 00-.498.49c0 .27.22.498.498.498h6.548zm0 2.607a.5.5 0 00.498-.505.49.49 0 00-.498-.483H5.498a.486.486 0 00-.498.483c0 .278.212.505.498.505h6.548zm0 2.608a.494.494 0 100-.989H5.498a.492.492 0 00-.498.49.49.49 0 00.498.499h6.548z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n{#if type === \"artist\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"web-navigation__nav-icon\"\n        aria-hidden=\"true\"\n        ><path\n            d=\"M18.39 9.42c1.289-1.282 1.34-2.908.102-4.139-1.23-1.216-2.85-1.186-4.138.103l4.036 4.035zm-6.08 9.858a.66.66 0 00.667-.667v-4.328l-.051-1.048 2.234-2.072c.842.11 1.728-.235 2.49-1.004L13.62 6.124c-.776.761-1.098 1.633-.988 2.475l-6.805 7.332c-.278.3-.322.717.022 1.062L4.913 18.2a.31.31 0 00.037.418l.212.22a.309.309 0 00.425.029l1.208-.945c.33.344.755.3 1.048.022l3.8-3.516v4.182a.66.66 0 00.667.667zm-5.053-2.073l-.674-.674 6.453-6.84c.124.205.278.402.461.593.183.183.373.344.571.476l-6.811 6.445z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n{#if type === \"albums\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"web-navigation__nav-icon\"\n        aria-hidden=\"true\"\n        ><path\n            d=\"M15.477 3.937c-.044-.61-.396-.937-1.07-.937H9.431c-.675 0-1.027.327-1.07.937h7.115zm1.24 2.013c-.11-.654-.425-1.025-1.159-1.025H8.222c-.741 0-1.057.37-1.167 1.025h9.662zm-.3 14.05c1.313 0 2.083-.756 2.083-2.252v-8.37c0-1.496-.778-2.252-2.304-2.252H7.804C6.27 7.126 5.5 7.875 5.5 9.38v8.369C5.5 19.244 6.27 20 7.804 20h8.612zm-.023-1.17H7.818c-.733 0-1.137-.392-1.137-1.148V9.437c0-.756.404-1.14 1.137-1.14h8.356c.727 0 1.145.384 1.145 1.14v8.245c0 .756-.418 1.148-.925 1.148z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n{#if type === \"tracks\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"web-navigation__nav-icon\"\n        aria-hidden=\"true\"\n        ><path\n            d=\"M9.732 19.241c1.077 0 2.688-.79 2.688-2.922V9.617c0-.388.074-.469.418-.542l3.347-.732a.48.48 0 00.403-.484V5.105c0-.388-.315-.637-.689-.563l-3.764.82c-.47.102-.725.359-.725.769l.014 8.144c.037.36-.132.594-.454.66l-1.164.241c-1.465.308-2.154 1.055-2.154 2.16 0 1.122.864 1.905 2.08 1.905z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n{#if type === \"hearnow\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"web-navigation__nav-icon\"\n        aria-hidden=\"true\"\n        ><path\n            d=\"M12 20c4.376 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C7.624 4 4 7.624 4 12c0 4.369 3.631 8 8 8zm0-1.333A6.634 6.634 0 015.341 12a6.628 6.628 0 016.651-6.667A6.653 6.653 0 0118.667 12 6.636 6.636 0 0112 18.667zm-1.467-3.6l4.463-2.636a.483.483 0 000-.839L10.533 8.95c-.337-.204-.784-.047-.784.33v5.458c0 .377.416.55.784.33z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n{#if type === \"radio\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"web-navigation__nav-icon\"\n        aria-hidden=\"true\"\n        ><path\n            d=\"M19.359 18.57C21.033 16.818 22 14.461 22 11.89s-.967-4.93-2.641-6.68c-.276-.292-.653-.26-.868-.023-.222.246-.176.591.085.868 1.466 1.535 2.272 3.593 2.272 5.835 0 2.241-.806 4.3-2.272 5.835-.261.268-.307.621-.085.86.215.245.592.276.868-.016zm-13.85.014c.222-.238.176-.59-.085-.86-1.474-1.535-2.272-3.593-2.272-5.834 0-2.242.798-4.3 2.272-5.835.261-.277.307-.622.085-.868-.215-.238-.592-.269-.868.023C2.967 6.96 2 9.318 2 11.89s.967 4.929 2.641 6.68c.276.29.653.26.868.014zm1.957-1.873c.223-.253.162-.583-.1-.867-.951-1.068-1.473-2.45-1.473-3.954 0-1.505.522-2.887 1.474-3.954.26-.284.322-.614.1-.876-.23-.26-.622-.26-.891.039-1.175 1.274-1.827 2.963-1.827 4.79 0 1.82.652 3.517 1.827 4.784.269.3.66.307.89.038zm9.958-.038c1.175-1.267 1.827-2.964 1.827-4.783 0-1.828-.652-3.517-1.827-4.791-.269-.3-.66-.3-.89-.039-.23.262-.162.592.092.876.96 1.067 1.481 2.449 1.481 3.954 0 1.504-.522 2.886-1.481 3.954-.254.284-.323.614-.092.867.23.269.621.261.89-.038zm-8.061-1.966c.23-.26.13-.568-.092-.883-.415-.522-.63-1.197-.63-1.934 0-.737.215-1.413.63-1.943.222-.307.322-.614.092-.875s-.653-.261-.906.054a4.385 4.385 0 00-.968 2.764 4.38 4.38 0 00.968 2.756c.253.322.675.322.906.061zm6.18-.061a4.38 4.38 0 00.968-2.756 4.385 4.385 0 00-.968-2.764c-.253-.315-.675-.315-.906-.054-.23.261-.138.568.092.875.415.53.63 1.206.63 1.943 0 .737-.215 1.412-.63 1.934-.23.315-.322.622-.092.883s.653.261.906-.061zm-3.547-.967c.96 0 1.789-.814 1.789-1.797s-.83-1.789-1.789-1.789c-.96 0-1.781.806-1.781 1.789 0 .983.821 1.797 1.781 1.797z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n{#if type === \"explore\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"web-navigation__nav-icon\"\n        aria-hidden=\"true\"\n        ><path\n            d=\"M9.92 11.354c.966 0 1.453-.487 1.453-1.49v-3.4c0-1.004-.487-1.483-1.453-1.483H6.452C5.487 4.981 5 5.46 5 6.464v3.4c0 1.003.487 1.49 1.452 1.49H9.92zm7.628 0c.965 0 1.452-.487 1.452-1.49v-3.4c0-1.004-.487-1.483-1.452-1.483h-3.46c-.974 0-1.46.479-1.46 1.483v3.4c0 1.003.486 1.49 1.46 1.49h3.46zm-7.65-1.073h-3.43c-.266 0-.396-.137-.396-.418v-3.4c0-.273.13-.41.396-.41h3.43c.265 0 .402.137.402.41v3.4c0 .281-.137.418-.403.418zm7.634 0h-3.43c-.273 0-.402-.137-.402-.418v-3.4c0-.273.129-.41.403-.41h3.43c.265 0 .395.137.395.41v3.4c0 .281-.13.418-.396.418zm-7.612 8.7c.966 0 1.453-.48 1.453-1.483v-3.407c0-.996-.487-1.483-1.453-1.483H6.452c-.965 0-1.452.487-1.452 1.483v3.407c0 1.004.487 1.483 1.452 1.483H9.92zm7.628 0c.965 0 1.452-.48 1.452-1.483v-3.407c0-.996-.487-1.483-1.452-1.483h-3.46c-.974 0-1.46.487-1.46 1.483v3.407c0 1.004.486 1.483 1.46 1.483h3.46zm-7.65-1.072h-3.43c-.266 0-.396-.137-.396-.41v-3.4c0-.282.13-.418.396-.418h3.43c.265 0 .402.136.402.418v3.4c0 .273-.137.41-.403.41zm7.634 0h-3.43c-.273 0-.402-.137-.402-.41v-3.4c0-.282.129-.418.403-.418h3.43c.265 0 .395.136.395.418v3.4c0 .273-.13.41-.396.41z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n{#if type === \"recently\"}\n    <svg\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"web-navigation__nav-icon\"\n        aria-hidden=\"true\"\n        ><path\n            d=\"M12 20c4.376 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C7.624 4 4 7.624 4 12c0 4.369 3.631 8 8 8zm0-1.333A6.634 6.634 0 015.341 12a6.628 6.628 0 016.651-6.667A6.653 6.653 0 0118.667 12 6.636 6.636 0 0112 18.667zm-.008-5.82a.54.54 0 00.55-.549V7.012a.54.54 0 00-.55-.541.532.532 0 00-.541.54v4.746H7.898a.534.534 0 00-.549.541c0 .314.235.55.549.55h4.094z\"\n            fill-rule=\"nonzero\"\n            fill-opacity=\".95\"\n            {fill}\n        /></svg\n    >\n{/if}\n\n<style>\n    svg {\n        flex-shrink: 0;\n    }\n</style>\n","<script>\n    import { push } from \"svelte-spa-router\";\nimport { addTrackToPlaylist } from \"../service/musikkit\";\n\n    import { playlistStore } from \"../store/musicstore\";\n    import NavIcon from \"./NavIcon.svelte\";\n    import SearchBox from \"./SearchBox.svelte\";\n\n    function playlistSelected(playlistItem) {\n        push(\"/playlist/\" + playlistItem.id);\n    }\n\n    function drop(event, playlist) {\n        event.preventDefault();\n        const json = event.dataTransfer.getData(\"text/plain\");\n        const data = JSON.parse(json);\n\n        console.log('drop ', data);\n        addTrackToPlaylist(data, playlist);\n    }\n</script>\n\n<nav>\n    <div class=\"logo-container\">\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"83\"\n            height=\"20\"\n            viewBox=\"0 0 83 20\"\n            version=\"1.1\"\n            class=\"web-navigation__logo-vector\"\n            role=\"presentation\"\n            ><path\n                fill=\"rgba(255,255,255,0.92)\"\n                fill-rule=\"nonzero\"\n                stroke=\"none\"\n                stroke-width=\"1\"\n                d=\"M34.752 19.746V6.243h-.088l-5.433 13.503h-2.074L21.711 6.243h-.087v13.503h-2.548V1.399h3.235l5.833 14.621h.1L34.064 1.4h3.248v18.347h-2.56zm16.649 0h-2.586v-2.263h-.062c-.725 1.602-2.061 2.504-4.072 2.504-2.86 0-4.61-1.894-4.61-4.958V6.37h2.698v8.125c0 2.034.95 3.127 2.81 3.127 1.95 0 3.124-1.373 3.124-3.458V6.37H51.4v13.376zm7.394-13.618c3.06 0 5.046 1.73 5.134 4.196h-2.536c-.15-1.296-1.087-2.11-2.598-2.11-1.462 0-2.436.724-2.436 1.793 0 .839.6 1.41 2.023 1.741l2.136.496c2.686.636 3.71 1.704 3.71 3.636 0 2.442-2.236 4.12-5.333 4.12-3.285 0-5.26-1.64-5.509-4.183h2.673c.25 1.398 1.187 2.085 2.836 2.085 1.623 0 2.623-.687 2.623-1.78 0-.865-.487-1.373-1.924-1.704l-2.136-.508c-2.498-.585-3.735-1.806-3.735-3.75 0-2.391 2.049-4.032 5.072-4.032zM66.1 2.836c0-.878.7-1.577 1.561-1.577.862 0 1.55.7 1.55 1.577 0 .864-.688 1.576-1.55 1.576a1.573 1.573 0 0 1-1.56-1.576zm.212 3.534h2.698v13.376h-2.698V6.37zm14.089 4.603c-.275-1.424-1.324-2.556-3.085-2.556-2.086 0-3.46 1.767-3.46 4.64 0 2.938 1.386 4.642 3.485 4.642 1.66 0 2.748-.928 3.06-2.48H83C82.713 18.067 80.477 20 77.317 20c-3.76 0-6.208-2.62-6.208-6.942 0-4.247 2.448-6.93 6.183-6.93 3.385 0 5.446 2.213 5.683 4.845h-2.573zM10.824 3.189c-.698.834-1.805 1.496-2.913 1.398-.145-1.128.41-2.33 1.036-3.065C9.644.662 10.848.05 11.835 0c.121 1.178-.336 2.33-1.01 3.19zm.999 1.619c.624.049 2.425.244 3.578 1.98-.096.074-2.137 1.272-2.113 3.79.024 3.01 2.593 4.012 2.617 4.037-.024.074-.407 1.419-1.344 2.812-.817 1.224-1.657 2.422-3.002 2.447-1.297.024-1.73-.783-3.218-.783-1.489 0-1.97.758-3.194.807-1.297.048-2.28-1.297-3.097-2.52C.368 14.908-.904 10.408.825 7.375c.84-1.516 2.377-2.47 4.034-2.495 1.273-.023 2.45.857 3.218.857.769 0 2.137-1.027 3.746-.93z\"\n            /></svg\n        >\n    </div>\n\n    <SearchBox />\n    <ul>\n        <li class=\"playlist-item\">\n            <NavIcon fill=\"#fa586a\" type=\"hearnow\" />\n            <span class=\"icon-label\">Jetzt hören</span>\n        </li>\n        <li class=\"playlist-item\">\n            <NavIcon fill=\"#fa586a\" type=\"explore\" />\n            <span class=\"icon-label\">Entdecken</span>\n        </li>\n        <li class=\"playlist-item\" on:click={() => push(\"/catalog/radios\")}>\n            <NavIcon fill=\"#fa586a\" type=\"radio\" />\n            <span class=\"icon-label\">Radio</span>\n        </li>\n    </ul>\n\n    <span class=\"headline\">Mediathek</span>\n\n    <ul>\n        <li class=\"playlist-item\" on:click={() => push(\"/library/recently\")}>\n            <NavIcon fill=\"#fa586a\" type=\"recently\" />\n            <span class=\"icon-label\">Recently played</span>\n        </li>\n        <li class=\"playlist-item\" on:click={() => push(\"/library/artists\")}>\n            <NavIcon fill=\"#fa586a\" type=\"artist\" />\n            <span class=\"icon-label\">Artists</span>\n        </li>\n        <li class=\"playlist-item\" on:click={() => push(\"/library/tracks\")}>\n            <NavIcon fill=\"#fa586a\" type=\"tracks\" />\n            <span class=\"icon-label\">Tracks</span>\n        </li>\n        <li class=\"playlist-item\" on:click={() => push(\"/albums\")}>\n            <NavIcon fill=\"#fa586a\" type=\"albums\" />\n            <span class=\"icon-label\">Albums</span>\n        </li>\n    </ul>\n    <span class=\"headline\">Playlist</span>\n    <ul>\n        {#each $playlistStore.playlists as playlistItem}\n            <li\n                class=\"playlist-item\"\n                on:click={() => playlistSelected(playlistItem)}\n                on:drop={(event) => drop(event, playlistItem)}\n                on:dragenter={() => console.log('enter')}\n                ondragover=\"return false\"\n            >\n                <NavIcon fill=\"#8D8D8D\" type=\"playlist\" />\n\n                <div class=\"playlist-item-label\">\n                    {playlistItem.attributes.name}\n                </div>\n            </li>\n        {/each}\n    </ul>\n</nav>\n\n<style>\n    nav {\n        position: fixed;\n        overflow-x: hidden;\n        bottom: 0;\n        left: 0;\n        top: 0px;\n        width: 260px;\n        height: 100%;\n        background: rgb(235 235 245 / 3%);\n        border-inline-end-color: rgba(255, 255, 255, 0.1);\n        border-inline-end-style: solid;\n        border-inline-end-width: 1px;\n        font-weight: 400;\n        font-style: normal;\n        padding-right: 20px;\n        box-sizing: border-box;\n        color: rgba(255, 255, 255, 0.92);\n        padding-left: 30px;\n    }\n\n    .logo-container {\n        margin-top: 17px;\n        margin-bottom: 18px;\n        padding-top: 0;\n        padding-bottom: 0;\n        /* padding-inline-start: 25px; */\n        /* -webkit-padding-end: 25px; */\n        /* padding-inline-end: 25px; */\n    }\n\n    .playlist-item {\n        display: flex;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        font-size: 15px;\n        line-height: 1.46667;\n        font-weight: 400;\n        letter-spacing: 0;\n        padding-top: 5px;\n        padding-bottom: 5px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        -webkit-user-drag: none;\n        cursor: pointer;\n    }\n\n    .playlist-item-label {\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        margin-left: 10px;\n    }\n\n    .headline {\n        font-size: 10px;\n        line-height: 1.3;\n        font-weight: 600;\n        letter-spacing: 0;\n        color: rgb(255 255 255 / 92%);\n        opacity: 0.5;\n    }\n\n    ul {\n        list-style: none;\n        padding-left: 0;\n    }\n\n    .icon-label {\n        margin-left: 10px;\n    }\n</style>\n","<script>\n    import CoverImage from \"./CoverImage.svelte\";\n\n    export let album;\n</script>\n\n<div class=\"container\" on:click>\n    <CoverImage width=\"100%\" aspectRatio=\"1:1\" artwork={album.attributes.artwork} />\n    <span class=\"album-title\">{album.attributes.name}</span><br>\n    <span class=\"album-title\">{album.attributes.artistName}</span>\n\n</div>\n\n<style>\n    .container {\n        /* display: flex;\n        align-items: center;\n        margin-bottom: 10px;\n        background: #00ff00; */\n        overflow: hidden;\n    }\n\n    .album-title {\n        display: inline-block;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n</style>\n","<script>\n    import { push } from \"svelte-spa-router\";\n    import AlbumItem from \"../components/AlbumItem.svelte\";\n    import { store } from \"../store/musicstore\";\n\n    function albumSelected(album) {\n        push(\"/album/\" + album.id);\n    }\n</script>\n\n<section>\n    <div class=\"album-container\">\n        {#each $store.albums as album}\n            <AlbumItem {album} on:click={() => albumSelected(album)} />\n        {/each}\n    </div>\n</section>\n\n<style>\n    .album-container {\n        box-sizing: border-box;\n        padding-top: 75px;\n        padding-left: 20px;\n        padding-right: 20px;\n        display: grid;\n        width: 100%;\n        grid-column-gap: 20px;\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    }\n</style>\n","<script>\n    import { addToPlaylist, formatMediaTime } from \"../service/musikkit\";\n\n    import CoverImage from \"./CoverImage.svelte\";\n\n    export let track;\n    export let showArtwork = false;\n    export let showTrackNumber = true;\n\n    function play(track) {\n        addToPlaylist(track);\n    }\n\n    function formatMilliseconds(ms) {\n        return formatMediaTime(ms / 1000);\n    }\n\n    function dragStart(event, track) {\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(track));\n    }\n</script>\n\n<div\n    class=\"song-row\"\n    on:click={() => play(track)}\n    draggable={true}\n    on:dragstart={(event) => dragStart(event, track)}\n>\n    <div class=\"song-list-something song-list-cell\" />\n    {#if showArtwork}\n        <div class=\"song-list-something song-list-cell\">\n            <CoverImage\n                artwork={track.attributes.artwork}\n                width=\"40px\"\n                height=\"40px\"\n            />\n        </div>\n    {/if}\n\n    {#if showTrackNumber}\n        <div class=\"song-list-index song-list-cell\">\n            {track.attributes.trackNumber}\n        </div>\n    {/if}\n\n    <div class=\"song-list-name song-list-cell\">\n        {track.attributes.name}\n    </div>\n    <div class=\"song-list-time song-list-cell\">\n        {formatMilliseconds(track.attributes.durationInMillis)}\n    </div>\n</div>\n\n<style>\n    .song-row {\n        display: table-row;\n        background: #232323;\n        height: 46px;\n        vertical-align: middle;\n        align-items: center;\n    }\n\n    .song-row:nth-child(odd) {\n        background: #1f1f1f;\n    }\n\n    .song-list-name {\n        width: 100%;\n    }\n\n    .song-list-cell {\n        display: table-cell;\n        padding-left: 5px;\n        padding-right: 5px;\n        vertical-align: middle;\n    }\n</style>\n","<script>\n    import { addToPlaylist, formatMediaTime } from \"../service/musikkit\";\n    import CoverImage from \"./CoverImage.svelte\";\n    import Track from \"./Track.svelte\";\n\n    export let tracks = [];\n    export let showArtwork = false;\n    export let showTrackNumber = false;\n\n    function play(track) {\n        addToPlaylist(track);\n    }\n\n    function formatMilliseconds(ms) {\n        return formatMediaTime(ms / 1000);\n    }\n\n    function dragStart(event, track) {\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(track));\n    }\n</script>\n\n<div class=\"song-list\">\n    {#each tracks as track}\n        <Track {showArtwork} {track} {showTrackNumber} />\n    {/each}\n</div>\n\n<style>\n    .song-list {\n        display: table;\n        width: 100%;\n        font-size: 13px;\n        font-weight: 400;\n        color: rgba(255, 255, 255, 0.92);\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n    import Button from \"../components/Button.svelte\";\n    import CoverImage from \"../components/CoverImage.svelte\";\n    import Tracks from \"../components/Tracks.svelte\";\n    import { loadAlbum } from \"../service/musikkit\";\n    import { store } from \"../store/musicstore\";\n\n    export let params = {};\n\n    onMount(() => {\n        loadAlbum(params.albumID);\n    });\n</script>\n\n<section>\n    <div class=\"header-container\">\n        <CoverImage\n            artwork={$store.selectedAlbum?.attributes.artwork}\n            width=\"270px\"\n            height=\"270px\"\n        />\n        <div style=\"margin-left: 20px;\">\n            <span class=\"artist-name\"\n                >{$store.selectedAlbum?.attributes?.name}</span\n            ><br />\n            <span class=\"album-name\"\n                >{$store.selectedAlbum?.attributes?.artistName}</span\n            ><br />\n            <span class=\"subline\"\n                >{$store.selectedAlbum?.attributes?.genreNames[0]} - {$store\n                    .selectedAlbum?.attributes?.releaseDate}</span\n            >\n            <div>\n                <Button />\n            </div>\n        </div>\n    </div>\n\n    {#if $store.selectedAlbum}\n        <Tracks tracks={$store.selectedAlbum?.relationships?.tracks?.data} />\n    {/if}\n</section>\n\n<style>\n    section {\n        padding: 40px;\n        padding-top: 95px;\n    }\n\n    .header-container {\n        display: flex;\n        align-items: center;\n        margin-bottom: 40px;\n    }\n\n    .artist-name {\n        font-size: 26px;\n        font-weight: 400;\n    }\n\n    .album-name {\n        font-size: 26px;\n        font-weight: 400;\n        color: #fa586a;\n    }\n\n    .subline {\n        color: rgba(255, 255, 255, 0.64);\n        font-size: 12px;\n        font-weight: 600;\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n\n    import CoverImage from \"../components/CoverImage.svelte\";\n    import Tracks from \"../components/Tracks.svelte\";\n    import { loadPlaylist } from \"../service/musikkit\";\n    import { playlistStore, store } from \"../store/musicstore\";\n\n    export let params = {};\n\n    function paramsChange(id) {\n        loadPlaylist(params.playlistID);\n    }\n\n    $: paramsChanged = paramsChange(params.playlistID);\n</script>\n\n<section>\n    <CoverImage\n        artwork={$playlistStore.selectedPlaylist?.attributes.artwork}\n        width=\"270px\"\n        height=\"270px\"\n    />\n\n    {#if $playlistStore.selectedPlaylist}\n        <Tracks\n            showArtwork={true}\n            tracks={$playlistStore.selectedPlaylist?.relationships?.tracks\n                ?.data}\n        />\n    {/if}\n</section>\n\n<style>\n    section {\n        padding: 30px;\n        padding-top: 60px;\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n    import { push } from \"svelte-spa-router\";\n    import AlbumItem from \"../components/AlbumItem.svelte\";\n    import { loadArtists, loadLibraryArtistDetail } from \"../service/musikkit\";\n    import { artistsStore, store } from \"../store/musicstore\";\n\n    onMount(() => {\n        loadArtists();\n    });\n\n    function albumSelected(album) {\n        push(\"/album/\" + album.id);\n    }\n\n    function selectArtist(id) {\n        push(\"/library/artists/\" + id);\n    }\n\n    export let params = {};\n    function paramsChange(id) {\n        loadLibraryArtistDetail(id);\n    }\n\n    $: paramsChanged = paramsChange(params.artistID);\n</script>\n\n<section>\n    <ul class=\"artist-list\">\n        {#each $artistsStore.artists as artist}\n            <li class=\"artist-item\" on:click={() => selectArtist(artist.id)}>\n                <div class=\"artist-artwork\" />\n                {artist.attributes.name}\n            </li>\n        {/each}\n    </ul>\n\n        <div class=\"album-container\">\n            {#each $artistsStore.selectedArtistAlbums || [] as album}\n                <AlbumItem {album} on:click={() => albumSelected(album)} />\n            {/each}\n        </div>\n</section>\n\n<style>\n    section {\n        padding-top: 56px;\n        display: flex;\n    }\n    .artist-list {\n        flex-shrink: 0;\n        list-style-type: none;\n        margin-inline-start: 0;\n        padding-left: 0;\n        padding-inline-start: 0;\n        padding-top: 0;\n        margin-top: 0;\n        width: 240px;\n    }\n    .artist-item {\n        display: flex;\n        align-items: center;\n        height: 54px;\n        font-size: 15px;\n        border: solid 1px rgba(255, 255, 255, 0.1);\n        vertical-align: middle;\n    }\n    .album-container {\n        box-sizing: border-box;\n        padding-top: 25px;\n        padding-left: 20px;\n        padding-right: 20px;\n        display: grid;\n        width: 100%;\n        grid-column-gap: 20px;\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    }\n\n    .artist-artwork {\n        width: 36px;\n        height: 36px;\n        background: #000;\n        border-radius: 50%;\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n    import CoverImage from \"../components/CoverImage.svelte\";\n    import { addToPlaylist, getRadioStations } from \"../service/musikkit\";\n    import { radioStore } from \"../store/musicstore\";\n\n    onMount(() => {\n        getRadioStations();\n    });\n\n    function loadStation(station) {\n        addToPlaylist(station);\n    }\n</script>\n\n<div class=\"radios-wrapper\">\n    Stations\n    {#each $radioStore.stations as station}\n        <div\n            on:click={() => {\n                loadStation(station);\n            }}\n        >\n            <CoverImage\n                width=\"60px\"\n                height=\"60px\"\n                artwork={station.attributes.artwork}\n            />\n\n            {station.attributes.name}\n        </div>\n    {/each}\n</div>\n\n<style>\n    .radios-wrapper {\n        padding-top: 60px;\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n    import { getRadioStation } from \"../service/musikkit\";\n    export let params = {};\n\n    onMount(() => {\n        console.log(\"Load station \", params.stationID);\n        getRadioStation(params.stationID);\n    });\n</script>\n","<script>\n\timport { onMount, tick } from 'svelte';\n\n\t// props\n\texport let items;\n\texport let height = '100%';\n\texport let itemHeight = undefined;\n\n\tlet foo;\n\n\t// read-only, but visible to consumers via bind:start\n\texport let start = 0;\n\texport let end = 0;\n\n\t// local state\n\tlet height_map = [];\n\tlet rows;\n\tlet viewport;\n\tlet contents;\n\tlet viewport_height = 0;\n\tlet visible;\n\tlet mounted;\n\n\tlet top = 0;\n\tlet bottom = 0;\n\tlet average_height;\n\n\t$: visible = items.slice(start, end).map((data, i) => {\n\t\treturn { index: i + start, data };\n\t});\n\n\t// whenever `items` changes, invalidate the current heightmap\n\t$: if (mounted) refresh(items, viewport_height, itemHeight);\n\n\tasync function refresh(items, viewport_height, itemHeight) {\n\t\tconst { scrollTop } = viewport;\n\n\t\tawait tick(); // wait until the DOM is up to date\n\n\t\tlet content_height = top - scrollTop;\n\t\tlet i = start;\n\n\t\twhile (content_height < viewport_height && i < items.length) {\n\t\t\tlet row = rows[i - start];\n\n\t\t\tif (!row) {\n\t\t\t\tend = i + 1;\n\t\t\t\tawait tick(); // render the newly visible row\n\t\t\t\trow = rows[i - start];\n\t\t\t}\n\n\t\t\tconst row_height = height_map[i] = itemHeight || row.offsetHeight;\n\t\t\tcontent_height += row_height;\n\t\t\ti += 1;\n\t\t}\n\n\t\tend = i;\n\n\t\tconst remaining = items.length - end;\n\t\taverage_height = (top + content_height) / end;\n\n\t\tbottom = remaining * average_height;\n\t\theight_map.length = items.length;\n\n\t}\n\n\tasync function handle_scroll() {\n\t\tconst { scrollTop } = viewport;\n\n\t\tconst old_start = start;\n\n\t\tfor (let v = 0; v < rows.length; v += 1) {\n\t\t\theight_map[start + v] = itemHeight || rows[v].offsetHeight;\n\t\t}\n\n\t\tlet i = 0;\n\t\tlet y = 0;\n\n\t\twhile (i < items.length) {\n\t\t\tconst row_height = height_map[i] || average_height;\n\t\t\tif (y + row_height > scrollTop) {\n\t\t\t\tstart = i;\n\t\t\t\ttop = y;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\ty += row_height;\n\t\t\ti += 1;\n\t\t}\n\n\t\twhile (i < items.length) {\n\t\t\ty += height_map[i] || average_height;\n\t\t\ti += 1;\n\n\t\t\tif (y > scrollTop + viewport_height) break;\n\t\t}\n\n\t\tend = i;\n\n\t\tconst remaining = items.length - end;\n\t\taverage_height = y / end;\n\n\t\twhile (i < items.length) height_map[i++] = average_height;\n\t\tbottom = remaining * average_height;\n\n\t\t// prevent jumping if we scrolled up into unknown territory\n\t\tif (start < old_start) {\n\t\t\tawait tick();\n\n\t\t\tlet expected_height = 0;\n\t\t\tlet actual_height = 0;\n\n\t\t\tfor (let i = start; i < old_start; i +=1) {\n\t\t\t\tif (rows[i - start]) {\n\t\t\t\t\texpected_height += height_map[i];\n\t\t\t\t\tactual_height += itemHeight || rows[i - start].offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst d = actual_height - expected_height;\n\t\t\tviewport.scrollTo(0, scrollTop + d);\n\t\t}\n\n\t\t// TODO if we overestimated the space these\n\t\t// rows would occupy we may need to add some\n\t\t// more. maybe we can just call handle_scroll again?\n\t}\n\n\t// trigger initial refresh\n\tonMount(() => {\n\t\trows = contents.getElementsByTagName('svelte-virtual-list-row');\n\t\tmounted = true;\n\t});\n</script>\n\n<style>\n\tsvelte-virtual-list-viewport {\n\t\tposition: relative;\n\t\toverflow-y: auto;\n\t\t-webkit-overflow-scrolling:touch;\n\t\tdisplay: block;\n\t}\n\n\tsvelte-virtual-list-contents, svelte-virtual-list-row {\n\t\tdisplay: block;\n\t}\n\n\tsvelte-virtual-list-row {\n\t\toverflow: hidden;\n\t}\n</style>\n\n<svelte-virtual-list-viewport\n\tbind:this={viewport}\n\tbind:offsetHeight={viewport_height}\n\ton:scroll={handle_scroll}\n\tstyle=\"height: {height};\"\n>\n\t<svelte-virtual-list-contents\n\t\tbind:this={contents}\n\t\tstyle=\"padding-top: {top}px; padding-bottom: {bottom}px;\"\n\t>\n\t\t{#each visible as row (row.index)}\n\t\t\t<svelte-virtual-list-row>\n\t\t\t\t<slot test={row.data} item={row.data}>Missing template</slot>\n\t\t\t</svelte-virtual-list-row>\n\t\t{/each}\n\t</svelte-virtual-list-contents>\n</svelte-virtual-list-viewport>","<script>\n    import { onMount } from \"svelte\";\n    import Track from \"../components/Track.svelte\";\n\n    import Tracks from \"../components/Tracks.svelte\";\n    import VirtualList from \"../components/vituallist/VirtualList.svelte\";\n    import { loadLibraryTracks } from \"../service/musikkit\";\n    import { tracksStore } from \"../store/musicstore\";\n\n    let tracks = [];\n\n    let page = -1;\n    let pageSize = 50;\n    let loading = false;\n\n    onMount(async () => {\n        console.log(tracks);\n        loadMore();\n    });\n\n    async function loadMore() {\n        loading = true;\n        page++;\n        const newTracks = (await loadLibraryTracks(page * pageSize, pageSize))\n            .data;\n        tracks = [...tracks, ...newTracks];\n        loading = false;\n    }\n\n    let end;\n\n    $: if (end === tracks.length && !loading) {\n        console.log(\"yeah!\");\n        loadMore();\n    }\n</script>\n\n<section>\n    <!-- <Tracks showArtwork={true} tracks={$tracksStore} /> -->\n\n    <div class=\"container\">\n        <VirtualList items={tracks} let:item bind:end>\n            <Track showArtwork={true} showTrackNumber={false} track={item} />\n        </VirtualList>\n    </div>\n\n    {#if loading}\n        <div>Loading</div>\n    {/if}\n</section>\n\n<style>\n    section {\n        padding-top: 57px;\n        height: 100%;\n    }\n\n    .container {\n        display: table;\n        width: 100%;\n\n        font-size: 13px;\n        font-weight: 400;\n        color: rgba(255, 255, 255, 0.92);\n        height: 100%;\n    }\n</style>\n","import NotFound from './NotFound.svelte'\nimport Albums from './Albums.svelte';\nimport AlbumDetail from './AlbumDetail.svelte';\nimport PlaylistDetail from './PlaylistDetail.svelte';\nimport Artists from './Artists.svelte';\nimport ArtistDetail from './ArtistDetail.svelte';\nimport Radio from './Radio.svelte';\nimport RadioDetail from './RadioDetail.svelte';\nimport TrackRoute from './TrackRoute.svelte';\n\n\nexport const routes = {\n    '/': Albums,\n    '/albums': Albums,\n    '/album/:albumID': AlbumDetail,\n    '/playlist/:playlistID': PlaylistDetail,\n    '/library/artists/': Artists,\n    '/library/artists/:artistID': Artists,\n    '/library/tracks': TrackRoute,\n    '/catalog/radios/': Radio,\n    '/catalog/radio/:stationID': RadioDetail,\n\n\n    // This is optional, but if present it must be the last\n    '*': NotFound,\n}","<script lang=\"ts\">\n\timport Router from \"svelte-spa-router\";\n\timport { onMount } from \"svelte\";\n\timport { store } from \"./store/musicstore\";\n\timport {\n\t\taddToPlaylist,\n\t\tloadAlbum,\n\t\tloadAlbums,\n\t\tloadPlaylists,\n\t} from \"./service/musikkit\";\n\timport Header from \"./components/Header.svelte\";\n\timport Navigation from \"./components/Navigation.svelte\";\n\timport { routes } from \"./routes/routes\";\n\n\tonMount(async () => {\n\t\tawait loadAlbums();\n\t\tawait loadPlaylists();\n\t});\n\n\tfunction albumSelected(event) {\n\t\tloadAlbum(event.detail.id);\n\t}\n\n\tfunction playTrack(event) {\n\t\taddToPlaylist(event.detail);\n\t}\n\n\t$: console.log(\"Selected album changed: \", $store.selectedAlbum);\n\t$: console.log(\"Tracks: \", $store.selectedAlbum?.relationships.tracks);\n</script>\n\n<svelte:head>\n\t<script\n\t\tsrc=\"https://js-cdn.music.apple.com/musickit/v1/musickit.js\"></script>\n</svelte:head>\n\n<Header />\n<Navigation />\n<div class=\"main-content\">\n\t<Router {routes} />\n</div>\n\n<style>\n\t:global(body) {\n\t\tposition: relative;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tbackground: #1f1f1f;\n\t\tcolor: #e2d8d8;\n\n\t\t--primaryColor: #fa2d48;\n\t\t--playerBackground: rgb(45 45 45 / 88%);\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Apple Color Emoji\",\n\t\t\t\"SF Pro\", \"SF Pro Icons\", \"Helvetica Neue\", Helvetica, Arial,\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t}\n\n\t.main-content {\n\t\tposition: absolute;\n\t\tleft: 260px;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t}\n</style>\n","import App from './App.svelte';\nconst app = new App({\n    target: document.body,\n    props: {}\n});\nexport default app;\n"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","get_slot_context","definition","ctx","$$scope","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_custom_element_data","prop","set_data","wholeText","set_style","key","important","style","setProperty","crossorigin","current_component","is_crossorigin","window","parent","error","set_current_component","get_current_component","Error","onMount","on_mount","createEventDispatcher","type","detail","e","createEvent","initCustomEvent","custom_event","call","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","update","pop","has","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","outro_and_destroy_block","lookup","get_spread_update","levels","updates","to_null_out","accounted_for","n","get_spread_object","spread_props","bind","index","props","bound","create_component","mount_component","m","new_on_destroy","map","filter","destroy_component","init","instance","create_fragment","not_equal","parent_component","context","Map","skip_bound","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","this","$destroy","indexOf","splice","$$props","obj","$$set","keys","subscriber_queue","readable","start","writable","stop","subscribers","set","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","getLocation","hashPosition","location","href","substr","qsPosition","querystring","loc","$loc","params","charAt","history","replaceState","state","__svelte_spa_router_scrollX","scrollX","__svelte_spa_router_scrollY","scrollY","hash","routes","prefix","restoreScrollState","RouteItem","path","_sveltesparouter","RegExp","pattern","str","loose","tmp","ext","arr","split","shift","substring","parse","conditions","userData","_pattern","_keys","startsWith","match","matches","exec","out","decodeURIComponent","routesList","route","componentParams","dispatch","dispatchNextTick","previousScrollState","popStateChanged","scrollTo","lastLoc","componentObj","unsubscribeLoc","newLoc","checkConditions","loading","loadingParams","loaded","default","onDestroy","scrollRestoration","albums","selectedAlbum","selectedView","playerStore","currentPlaybacktime","currentPlaybackduration","currentTrack","playingTrack","playlistStore","playlists","selectedPlaylist","artistsStore","artists","selectedArtistAlbums","selectedArtist","radioStore","stations","selectedStation","tracksStore","musicKit","setup","initialized","getApiHeadersWithUserToken","musicKitInstance","MusicKit","getInstance","Music-User-Token","musicUserToken","Authorization","developerToken","Content-Type","Accept","async","getURL","url","fetch","method","mode","cache","headers","json","addToPlaylist","track","setQueue","song","id","play","togglePlay","_","get","player","pause","width","height","aspectRatio","artwork","formatArtworkURL","formatArtwork","configure","app","build","console","log","progress","currentPlaybackDuration","currentPlaybackTime","authorize","heavy","api","storefrontId","recentlyPlayed","getRecentlyPlayed","thumbElement","sliderElement","thumbRect","sliderRect","minValue","maxValue","isPointerDown","thumbOffset","maxX","getBoundingClientRect","thumbPosition","clientX","left","x","attributes","artistName","albumName","getPlayIconType","seconds","seekToTime","$playerStore","isAuthorized","unauthorize","toggleLogin","playlistSelected","playlistItem","drop","playlist","preventDefault","dataTransfer","getData","JSON","body","stringify","addTrackToPlaylist","album","albumSelected","trackNumber","durationInMillis","showArtwork","showTrackNumber","ms","formatMediaTime","setData","dragStart","tracks","relationships","genreNames","releaseDate","library","loadAlbum","albumID","paramsChange","loadPlaylist","playlistID","selectArtist","limit","loadArtists","artistId","artist","include","albumIds","loadLibraryArtistDetail","artistID","loadStation","station","getRadioStations","stationID","getRadioStation","slot_ctx","getComputedStyle","position","iframe","tabIndex","source","contentWindow","onload","old_blocks","get_key","dynamic","list","destroy","create_each_block","next","get_context","old_indexes","new_blocks","new_lookup","deltas","child_ctx","abs","will_move","did_move","first","new_block","old_block","new_key","old_key","rows","viewport","contents","visible","mounted","average_height","items","itemHeight","end","height_map","viewport_height","top","bottom","getElementsByTagName","scrollTop","content_height","row","offsetHeight","remaining","refresh","old_start","v","y","row_height","expected_height","actual_height","page","loadMore","newTracks","offset","loadLibraryTracks","/","Albums","/albums","/album/:albumID","/playlist/:playlistID","/library/artists/","Artists","/library/artists/:artistID","/library/tracks","/catalog/radios/","/catalog/radio/:stationID","*","__awaiter","thisArg","_arguments","P","generator"],"mappings":"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"}